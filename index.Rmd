---
title       : R Tutorial
subtitle    : March 2013
author      : Jos√© Padarian and Sebastian Campbell
job         : 
framework   : io2012          # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js    # {highlight.js, prettify, highlight}
hitheme     : tomorrow        # 
widgets     : [mathjax, quiz] # {mathjax, quiz, bootstrap}
mode        : selfcontained   # {standalone, draft}
---

## Welcome to R

Hopefully by now you've started up RStudio (or your IDE or text editor of choice) and are greeted by a command prompt:

![](images/rconsole.png)

---

## Say Hello!

As is traditional in programming, we'll start off with a `Hello world!` program. Try the below:

```{r}
print("Hello world!")
```

Congratulations! You've taken your first steps into R. You've used the function `print` to print the text "Hello world!" to the screen. Functions are basically like verbs in language, they tell R to do something. Notice the brackets `()` after the name of the function in which you can tell the function what to do.

Don't worry too much about the `[1]` at the beginning, we'll explain that soon. Note that you can also type `"Hello world!"` without the `print` command and R will assume you meant to print it.

---

## Some basic maths

We can also use R as a calculator for addition and powers:

```{r}
2 + 2
2 ^ 3
```

Note that there are other operators we can use, like `*` for multiplications, `-` for subtraction and `/` for division. 

---&radio .quiz

## Quick quiz

We'll be having a few quizzes like this during this tutorial. No pressure, it's just to check your understanding.

### What is the expected result from `6 / 2`?

1. 1
2. 2
3. _3_
4. 4

*** explanation

It's 3, because $\frac{6}{2} = 3$

---

## Assigning variables

So now we can do some maths, but we don't want to have to remember the results every time. So let's store some as variable, so we can refer to them by name. To assign, we can use either the `=` or `<-` operator (though `<-` is recommended).

```{r}
core_volume <- 100
core_mass <- 180
bulk_density <- core_mass / core_volume

bulk_density
```

Note that assignment doesn't print the variable to the console.

---

## Not just numbers

R doesn't just work with numbers, it can also work with "strings" or characters. We've already used these when we made our "Hello world!" program. In fact, we can use the `paste` function to stick them together. 

```{r}
paste("The bulk density is:", 1.75, sep=" ")
```

The `paste` function sticks strings and numbers together into a single string. The `sep` argument says: "Put a space between all of the things I'm sticking together".

---

## Making readable results

Let's combine all the things we know so far into something useful. Remember the bulk density we calculated earlier?

```{r}
paste("The bulk density is:", bulk_density, sep=" ")
```

Here R evaluated our variable `bulk_density` and added it to the string we were trying to make.

---&radio .quiz

## Quiz 2

### Which of these lines of code will produce the result: `"1:2:3:x:y:z"`

1. _paste(1, 2, 3, "x", "y", "z", sep=":")_
2. paste("123xyz", sep=":")
3. paste(1, 2, 3, x, y, z, sep=":")
4. paste(1, 2, 3, "x", "y", "z")

*** explanation

The first option. The second option won't work as there's only one string, so R can't place separators between strings. The third option is trying to call variables named `x`, `y` and `z` (but it's likely none exist). Finally, the fourth option is space-separated, not colon-separated.

---

## Bigger data

So we've been dealing with individual strings and numbers, let's move onto combining those into vectors. A vector is basically just a 1-dimensional array of data. Like a set of numbers or a shopping list. It's really easy to make vectors of sequential integers:

```{r}
1:10
5:-5
```

---

## More vectors

You can also make vectors of strings or numbers using the combine (`c`) function:

```{r}
c(5, 4, 3, 2, 8)
c("sand", "silt", "clay")
```

---

## Limits of atomic vectors

But be careful. These kinds of vectors can only take one type of data. If you combine numbers and strings together:

```{r}
c("SOILID001", 3, 5, "SOILID006", 7)
```

Then they all become characters.

---

## Getting help

But how do I find out about all these functions? There are a few ways of getting help in R:

- The default help functions. Try `?print` or `help(print)`
- Other help functions: `RSiteSearch("soil")`
- StackOverflow
- The wonderful Google

At the moment, the help files will be fairly hard to get through, but they make more and more sense the more you use R. Some help files will be much simpler than others. If you find the help file impossible to get through, try testing the examples at the bottom of most help files or access them using the `examples` function.

---&radio .quiz

## Getting help quiz

### What does the `sep` argument of `read.table` do?

 1. Separates the arguments with commas and puts them together
 2. _Determines the field separator character of a file which has been read in_
 3. Decides whether to use the Sepine Angulator algorithm
 4. If TRUE, splits files into list elements
 
*** explanation

 The `read.table` function entry found using `?read.table` or `help(read.table)` says `sep` is the 'field separator character'.

---

## Dataframes

Now we're ready to deal with some real data. The University of Alaska Fairbanks has some soil temperature data from 2011. The best function to read in CSVs is `read.csv`. Let's store that object and call it `soiltempdata`. 

```{r, cache=TRUE}
url <- "http://ine.uaf.edu/werc/projects/foothills/stations/dfm1/data/DFM1_South_White_Hills_Soil_2011.csv"
soiltempdata <- read.csv(url)
```

That looks like it went through nicely. No errors, no complaints.

---

## Checking your data

It's a good idea to look at the first few rows of your data, to make sure it went through ok. We'll use `head` to get the first 4 rows of ours.

```{r}
head(soiltempdata, 4)
```

Blech. That's not what we wanted at all. Most of those columns are empty.

## Fixing the data

What went wrong? Let's download the data and open the data up in Excel or Notepad and look at it (ideally, you should do this before trying to read it in). Click [here](http://ine.uaf.edu/werc/projects/foothills/stations/dfm1/historical.html) for a link to their website and download the 2011 Soil Data File to your hard drive (put it into My Documents). Then open the CSV file (if you're feeling adventurous, try using the `download.file` function to download it).

![]()